#include<iostream.h>
#include<conio.h>
#include<stdio.h>
#include<stdlib.h>
#include<math.h>
int main()
{
     int a, b, i, n, k;
     float I, N, P;
     float *p;
     cout << "Здравствуйте, эта программа вычисляет количество информации, полученное при реализации одного из событий" << "\n\n";
     cout << "Введите 0, если события с разной вероятностью или 1, если события в задаче с одинаковой вероятностью и нажмите Enter" << "\n";
     cin >> a;
     if (a==1)
     {
              cout << "Введите 0, если в задаче дано общее число исходов или 1, если известна вероятность события" << "\n";
              cin >> b;
              if (b==0)
              {
                       cout << "Введите общее число исходов" << "\n";
                       cin >> N;
              }
              else
                       if (b==1)
                       {
                                cout << "Введите вероятность события" << "\n";
                                cin >> P;
                                N=1/P;
                       }
                       else
                                cout << "Введены некорректные данные" << "\n";
     I=log(N)/log(2);
     cout << "Количество информации: " << I << "бит" << "\n";                
     }
     else
             if(a==0)
             {
                     cout << "Введите количетво отдельных событий" << "\n";
                     cin >> n;
                     if(n>0)
                     {
                            p=new float[n];
                            I=0;
                            cout << "Введите 0, если вам известные вероятности отдельных событий или 1, если в задаче даны величины, показывающие сколько раз произошло интересующее нас событие" << "\n";
                            cin >> k;
                            if(k==0)
                            {
                                    for(i=1;i<n+1;i++)
                                    {
                                              cout << "Введите вероятность " << i << "го отдельного события (она не должна превышать 1)" << "\n";
                                              cin >> p[i];
                                              I=I+(p[i]*log(p[i])/log(2)); 
                                    }
                            }
                            else
                            {
                                    P=0;
                                    if(k==1)
                                    {
                                              for(i=1;i<n+1;i++)
                                              {
                                                                cout << "Сколько раз могло произойти " << i << "ое событие?" << "\n";
                                                                cin >> p[i];
                                                                P=P+p[i];
                                              }
                                              for(i=1;i<n+1;i++)
                                              {
                                                                p[i]=p[i]/P;
                                                                I=I+(p[i]*log(p[i])/log(2));
                                              }
                                    }
                                    else
                                            cout << "Введены некорректные данные" << "\n";
                            }
                     }
                     else
                              cout << "Введены некорректные данные" << "\n";
             I=-1*I;
             cout << "Количество информации: " << I << " бит" << "\n";
             }
             else
                     cout << "Введены некорректные данные" << "\n";                 
    getch(); 
}
